packages:
  all:
    target: [ivybridge]
    compiler: [gcc, clang]
    providers:
      mpi: [mvapich2]
      blas: [intel-mkl]
      lapack: [intel-mkl]

  # Lock down which MPI we are using
  mvapich2:
    buildable: False
    externals:
      - spec: mvapich2@2.3%gcc@12.1.1
        prefix: /usr/tce/packages/mvapich2/mvapich2-2.3.6-gcc-12.1.1/
      - spec: mvapich2@2.3%clang@14.0.6
        prefix:  /usr/tce/packages/mvapich2/mvapich2-2.3.6-clang-14.0.6

  # Lock down blas, lapack implementation
  intel-mkl:
    buildable: False
    externals:
      - spec: intel-mkl@2022.1.0 threads=openmp
        prefix: /usr/tce/packages/mkl/mkl-2022.1.0/

  # System level packages to not build
  papi:
    buildable: False
    externals:
      - spec: papi@6.0.0.1
        prefix: /usr/tce/packages/papi/papi-6.0.0.1/
  cmake:
    version: [3.22.4]
    buildable: false
    externals:
    - spec: cmake@3.22.4
      prefix: /usr/tce/packages/cmake/cmake-3.22.4
  readline:
    externals:
    - spec: readline@7.0
      prefix: /collab/usr/gapps/python/build/spack-toss3.3/opt/spack/linux-rhel7-x86_64/gcc-4.9.3/readline-7.0-e5jqqjmcjknidgwvi353pd6umpixzxr2
    buildable: false
  zlib:
    buildable: False
    externals:
      - spec: zlib@1.2.7
        prefix: /usr
  m4:
    buildable: False
    externals:
      - spec: m4@1.4.18
        prefix: /usr
  perl:
    buildable: false
    externals:
    - spec: perl@5.26.3
      prefix: /usr
  pkg-config:
    buildable: false
    externals:
    - spec: pkg-config@1.8.0
      prefix: /usr
  diffutils:
    buildable: False
    externals:
      - spec: diffutils@3.3
        prefix: /usr/bin
  python:
    buildable: False
    externals:
    - spec: python@3.10.8
      prefix: /usr/tce/packages/python/python-3.10.8/
  py-sphinx:
    buildable: False
    externals:
    - spec: py-sphinx@1.6.3
      prefix: /collab/usr/gapps/python/build/spack-toss3.2/opt/spack/linux-rhel7-x86_64/gcc-4.9.3/python-2.7.14-7rci3jkmuht2uiwp433afigveuf4ocnu/
  autoconf:
    buildable: False
    externals:
      - spec: autoconf@2.69
        prefix: /usr
  automake:
    buildable: False
    externals:
      - spec: automake@1.16.1
        prefix: /usr
  libtool:
    buildable: False
    externals:
      - spec: libtool@2.4.6
        prefix: /usr
  bison:
    buildable: False
    externals:
      - spec: bison@3.0.4
        prefix: /usr
  flex:
    buildable: False
    externals:
      - spec: flex@2.6.1
        prefix: /usr
